<html>
<head>
<title>XM6 TrueKey USB</title>
</head>
<body>
<h1>XM6 TrueKey USB</h1>
<p><img width="50%" height="auto" alt="接続例" src="./images/XM6_TrueKey_USB.jpg"</p>

<p>XM6および後継/派生のエミュレータにはTrueKeyと呼ばれる機能が搭載されています。<br>
TrueKeyにより、X68000純正のキーボードを使ってXM6を利用する事ができます。<br>
XM6 TrueKey USBは以下のような昨今のPC周りの事情:
<ul>
    <li>標準でRS-232端子を備えないPCが多くなった
    <li>RS-232のように±12Vでフルスイングするのではなく、5V系(いわゆるTTLレベル)で使うためのUSBシリアルアダプタが低価格で多く流通している
</ul>
に合わせて、オリジナルのTrueKeyを改変したものです。
</p>
<p>
PI.様の許諾を得て<a href="https://kanigarage.booth.pm/items/3534821">プリント基板等を頒布しております</a>。
ありがとうございます。
</p>
<p>
TrueKeyを使ってXM6以外の操作はできません。<br>
Windows等でX68000純正キーボードをお使いになりたい場合、他の作者様による変換アダプタをご検討ください。
</p>

<h2>回路図</h2>
<a href="./images/schematic.png"><img width="50%" height="auto" alt="回路図" src="./images/schematic.png"></a>
<p>USBシリアル変換には既製品のUSBシリアルアダプタをそのまま利用します。<br>
秋月電子通商扱いの AE-TTL-232R (M-11007) がお勧めです。
</p>

<h2>注意</h2>
<h3>無保証かつ無サポート</h3>
TrueKeyの開発は15年以上前に終了しています。<br>
XM6の作者様や関係者様に決して質問や要望などしないでください。

<h3>XM6以外の操作はできない</h3>
TrueKeyではXM6以外の操作はできません。<br>
Windowsやpx68kなどの操作には対応していませんし、対応予定も全くありません。

<h3>マウスは非対応</h3>
X68000キーボード側面にあるマウス端子には対応していません。

<h3>5V系アダプタ専用</h3>
USBシリアルアダプタはTTLレベルの入出力、かつ5V電源のものを使用してください。
これ以外のものを接続した場合、大切なキーボードやアダプタが故障します。

<h3>誤接続保護は無い</h3>
誤接続した場合、即破損する危険があります。

<h2>使用方法</h2>
<h3>接続手順</h3>
<ol>
    <li>USBシリアルアダプタはPCから取り外しておきます。
    <li>USBシリアルアダプタの説明書を確認いただき、I/O電圧および電源電圧を5Vに設定します。
    <li>X68000キーボード、TrueKey基板、USBシリアルアダプタを正しく接続します。
    <li>USBシリアルアダプタをPCへ接続します。
</ol>
<h3>設定手順</h3>
XM6のメニューバーの [ツール(T)] から<br>
[オプション(O)] を選ぶと表示される<br>
[XM6の動作設定] ウィンドウの<br>
[TrueKey] タブを表示させます。<br>
[ポート(P)] をUSBシリアルアダプタの番号へ変更すれば、他はデフォルトのままで動作する筈です。

<h3>応用編</h3>
<h4>実機向けキーボード変換機の開発</h4>
元々はこのために回路を作成しました。<br>
XM6 TypeGの再現性は非常に高く、実機に頼らずとも、かなりの部分について開発を行うことができます。

<h4>キーボードの動作チェック環境として</h4>
貴重な実機を危険に晒さずに済みます。<br>
USBアイソレータを追加しておけば更に安心でしょう。

<h4>X68000 Zのキーボードを使う</h4>
<a href="./images/planB.jpg"><img width="30%" height="auto" alt="回路図" src="./images/planB.jpg"></a>
<p>
    <a href="https://sukima-studio.booth.pm/items/3169708">すきま工房様の USBキーボードアダプター for X680x0</a>を介して
ZキーボードをTrueKey接続する(二重変換する)ことで、
<ul>
    <li>キーロック状態LEDが実機同様に灯るようになる
    <li>OPT.2キーによってXM6側のマウスモードが意図せず切り替わるのを防ぐ
</ul>
といった効果が得られます。<br>
ただし、ZキーボードからはXM6以外を操作できなくなるため、ホストOS側を操作するために別のキーボードが必要です。
</p>
</body>
</html>